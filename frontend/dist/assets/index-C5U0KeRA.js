import{r as _e,a as _,j as R,R as Le,V as se,g as zt,b as at,c as Ct}from"./index-D2l-ue2i.js";var lt=_e();const Rt="/Arkhet-logo_white%201.png",Dt="/iconcaretright.png";function ge(r,o,t,e){const n=r.length.toString(),s=o,a=t,l=e;r.push({shapeId:n,type:s,xOffset:1650,yOffset:1300,width:a,height:l}),console.log(r)}function Mt(r,o,t,e){r.map(n=>{n.shapeId===o&&(n.xOffset=t,n.yOffset=e)})}function Pt(r){const[o,t]=_.useState(""),{shapes:e,setShapes:n}=r;return R.jsxs("div",{className:"fixed top-0 left-0 h-screen w-[250px] bg-zinc-900 overflow-auto arkhet-cursor",children:[R.jsx("div",{className:"border-b-zinc-700 border-b-[1px] p-2  pr-10 pl-4",children:R.jsxs("div",{className:"flex items-center",children:[R.jsx("img",{src:Rt,alt:"Arkhet Logo",className:"pr-2 scale-75"}),R.jsx("p",{className:"font pt-1 text-lg tracking-widest",children:"ARKHET"})]})}),R.jsx("div",{className:"flex my-2 py-2 pl-4 text-sm border-b-[1px] border-b-zinc-700",children:R.jsxs("div",{className:"flex justify-center items-center",children:[R.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("g",{clipPath:"url(#clip0_2642_26774)",children:R.jsx("path",{d:"M6.5 3.25C6.5 3.96719 6.26719 4.62969 5.875 5.16719L7.85312 7.14687C8.04844 7.34219 8.04844 7.65937 7.85312 7.85469C7.65781 8.05 7.34062 8.05 7.14531 7.85469L5.16719 5.875C4.62969 6.26875 3.96719 6.5 3.25 6.5C1.45469 6.5 0 5.04531 0 3.25C0 1.45469 1.45469 0 3.25 0C5.04531 0 6.5 1.45469 6.5 3.25ZM3.25 5.5C3.54547 5.5 3.83805 5.4418 4.11104 5.32873C4.38402 5.21566 4.63206 5.04992 4.84099 4.84099C5.04992 4.63206 5.21566 4.38402 5.32873 4.11104C5.4418 3.83805 5.5 3.54547 5.5 3.25C5.5 2.95453 5.4418 2.66194 5.32873 2.38896C5.21566 2.11598 5.04992 1.86794 4.84099 1.65901C4.63206 1.45008 4.38402 1.28434 4.11104 1.17127C3.83805 1.0582 3.54547 1 3.25 1C2.95453 1 2.66194 1.0582 2.38896 1.17127C2.11598 1.28434 1.86794 1.45008 1.65901 1.65901C1.45008 1.86794 1.28434 2.11598 1.17127 2.38896C1.0582 2.66194 1 2.95453 1 3.25C1 3.54547 1.0582 3.83805 1.17127 4.11104C1.28434 4.38402 1.45008 4.63206 1.65901 4.84099C1.86794 5.04992 2.11598 5.21566 2.38896 5.32873C2.66194 5.4418 2.95453 5.5 3.25 5.5Z",fill:"currentColor"})}),R.jsx("defs",{children:R.jsx("clipPath",{id:"clip0_2642_26774",children:R.jsx("rect",{width:"8",height:"8",fill:"currentColor"})})})]}),R.jsx("input",{type:"text",className:"mt-1 font pl-3 bg-transparent outline-none",placeholder:"Search...",onChange:s=>t(s.target.value)})]})}),R.jsx("div",{className:"pl-4 pb-2 border-b border-b-[#303030]",children:R.jsxs("div",{className:"flex w-[200px] py-2",children:[R.jsx("img",{src:Dt,alt:"",className:"mr-2 h-[15px] w-[7px] pt-2"}),R.jsx("p",{children:"Basic Components"})]})}),R.jsxs("div",{className:"grid grid-cols-3 gap-2 pr-4 pb-2",children:[R.jsx("div",{className:"justify-center items-center flex hover:text-[#42A5F5] hover:bg-[#202020] rounded pt-5 transition-all ease-in-out duration-200",draggable:!0,children:R.jsxs("button",{onClick:()=>{ge(e,"button",100,50),n([...e])},children:[R.jsx("svg",{width:"46",height:"17",viewBox:"0 0 46 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("rect",{width:"46",height:"17",rx:"3",fill:"currentColor"})}),R.jsxs("p",{className:"text-xs pt-5 pb-2",children:[R.jsx("span",{className:"font-extrabold",children:"B"}),"utton"]})]})}),R.jsx("div",{draggable:!0,className:"justify-center items-center flex hover:text-[#42A5F5] hover:bg-[#202020] rounded pt-4 transition-all ease-in-out duration-200 cursor-pointer",children:R.jsxs("button",{children:[R.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M11.3393 0.928571C11.1295 0.370536 10.5938 0 10 0C9.40625 0 8.87054 0.370536 8.66071 0.928571L2.58036 17.1429H1.42857C0.638393 17.1429 0 17.7812 0 18.5714C0 19.3616 0.638393 20 1.42857 20H5.71429C6.50446 20 7.14286 19.3616 7.14286 18.5714C7.14286 17.7812 6.50446 17.1429 5.71429 17.1429H5.63393L6.4375 15H13.5625L14.3661 17.1429H14.2857C13.4955 17.1429 12.8571 17.7812 12.8571 18.5714C12.8571 19.3616 13.4955 20 14.2857 20H18.5714C19.3616 20 20 19.3616 20 18.5714C20 17.7812 19.3616 17.1429 18.5714 17.1429H17.4196L11.3393 0.928571ZM12.4911 12.1429H7.50893L10 5.49554L12.4911 12.1429Z",fill:"currentColor"})}),R.jsxs("p",{className:"text-xs pt-5 pb-2",children:[R.jsx("span",{className:"font-bold",children:"T"}),"ext"]})]})})]})]})}function Et(r){const{isHandToolActive:o,setIsHandToolActive:t,toggleHandTool:e,shapes:n,setShapes:s}=r;return R.jsxs("div",{className:`fixed top-0 left-[250px] w-[25%] sm:w-[45%] md:w-[50%] lg:w-[calc(100%_-_500px)] bg-[#242424] border-b border-b-zinc-700 flex items-center justify-between ${o?"cursor-grab":"arkhet-cursor"} z-[9999]`,children:[R.jsxs("div",{children:[R.jsx("button",{className:`ml-5 py-2 px-2 pl-3 rounded ${!o&&"bg-zinc-600"}`,onClick:()=>t(!1),children:R.jsx("svg",{width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M0 0.8286V14.0719C0 14.5076 0.353584 14.8577 0.785741 14.8577C1.01075 14.8577 1.22861 14.7612 1.37862 14.5898L4.32872 11.2147L6.40379 15.3684C6.68594 15.9327 7.37168 16.1613 7.93599 15.8791C8.50029 15.597 8.72887 14.9112 8.44672 14.3469L6.42165 10.2861H10.6397C11.0754 10.2861 11.429 9.93248 11.429 9.49675C11.429 9.27175 11.3325 9.05745 11.1647 8.90745L1.37862 0.210722C1.22504 0.0750026 1.03218 0 0.8286 0C0.371441 0 0 0.371441 0 0.8286Z",fill:"white"})})}),R.jsx("button",{className:"py-5 px-2",onClick:()=>{ge(n,"page",600,300),s([...n])},children:R.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("rect",{x:"2.18695",width:"2.30216",height:"16",rx:"0.5",fill:"white"}),R.jsx("rect",{x:"16",y:"2.30225",width:"2.30216",height:"16",rx:"0.5",transform:"rotate(90 16 2.30225)",fill:"white"}),R.jsx("rect",{x:"11.3958",width:"2.30216",height:"16",rx:"0.5",fill:"white"}),R.jsx("rect",{x:"16",y:"11.5107",width:"2.30216",height:"16",rx:"0.5",transform:"rotate(90 16 11.5107)",fill:"white"})]})}),R.jsx("button",{className:`py-2 px-2 rounded ${o?"bg-zinc-600":""}`,onClick:e,children:R.jsx("div",{children:R.jsx("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M9.00159 1C9.00159 0.446875 8.55471 0 8.00159 0C7.44846 0 7.00158 0.446875 7.00158 1V7.5C7.00158 7.775 6.77658 8 6.50158 8C6.22658 8 6.00158 7.775 6.00158 7.5V2C6.00158 1.44687 5.55471 1 5.00158 1C4.44846 1 4.00158 1.44687 4.00158 2V10.5C4.00158 10.5469 4.00158 10.5969 4.00471 10.6438L2.11408 8.84375C1.61408 8.36875 0.82346 8.3875 0.345335 8.8875C-0.13279 9.3875 -0.110915 10.1781 0.389085 10.6562L3.90158 14C5.24846 15.2844 7.03908 16 8.90158 16H9.50159C12.5391 16 15.0016 13.5375 15.0016 10.5V4C15.0016 3.44688 14.5547 3 14.0016 3C13.4485 3 13.0016 3.44688 13.0016 4V7.5C13.0016 7.775 12.7766 8 12.5016 8C12.2266 8 12.0016 7.775 12.0016 7.5V2C12.0016 1.44687 11.5547 1 11.0016 1C10.4485 1 10.0016 1.44687 10.0016 2V7.5C10.0016 7.775 9.77658 8 9.50159 8C9.22659 8 9.00159 7.775 9.00159 7.5V1Z",fill:"white"})})})})]}),R.jsxs("div",{className:"ml-auto mr-auto absolute left-[40%] top-[3%] flex flex-row items-center justify-center mt-2",children:[R.jsx("div",{className:"flex flex-col gap-1 items-center justify-center",children:R.jsx("p",{className:"text-[15px] text-center px-8 py-3 mr-2 rounded-t-sm tracking-[1px] bg-[#2C2C2C]",children:"WIREFRAME"})}),R.jsx("div",{className:"",children:R.jsx("div",{className:"relative z-30 text-[15px] text-center px-8 py-3 ml-2 rounded-t-sm tracking-[1px] text-white border-t border-l border-r border-[#424242] border-b-[#2C2C2C]",children:"PROTOTYPE"})})]})]})}function Nt(){return R.jsx("div",{className:"fixed top-0 right-0 h-screen border-l border-l-zinc-700 bg-[#262626] w-[250px] arkhet-cursor"})}const Ie=r=>{let o;const t=new Set,e=(h,v)=>{const b=typeof h=="function"?h(o):h;if(!Object.is(b,o)){const S=o;o=v??(typeof b!="object"||b===null)?b:Object.assign({},o,b),t.forEach(z=>z(o,S))}},n=()=>o,l={setState:e,getState:n,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=o=r(e,n,l);return l},Tt=r=>r?Ie(r):Ie,_t=r=>r;function Ot(r,o=_t){const t=Le.useSyncExternalStore(r.subscribe,()=>o(r.getState()),()=>o(r.getInitialState()));return Le.useDebugValue(t),t}const He=r=>{const o=Tt(r),t=e=>Ot(o,e);return Object.assign(t,o),t},kt=r=>r?He(r):He,be=kt((r,o)=>({selectedShapeId:null,isHandToolActive:!1,setSelectedShapeId:t=>{t>Date.now()/10||r({selectedShapeId:t})},setIsHandToolActive:t=>r({isHandToolActive:t}),toggleHandTool:()=>{const t=o().isHandToolActive;r({isHandToolActive:!t})},wrapperRef:null,setWrapperRef:t=>r({wrapperRef:t}),selectedShapeIds:[],setSelectedShapeIds:t=>r({selectedShapeIds:t}),addSelectedShapeId:t=>r(e=>({selectedShapeIds:[...new Set([...e.selectedShapeIds,t])]})),removeSelectedShapeId:t=>r(e=>({selectedShapeIds:e.selectedShapeIds.filter(n=>n!==t)})),clearSelection:()=>r({selectedShapeIds:[]})}));function Me(r,o,t){var u;const e=(u=r.current)==null?void 0:u.getBoundingClientRect();if(!e)return;const n=window.scrollX+window.innerWidth/2,s=window.scrollY+window.innerHeight/2,a=n-e.left+window.scrollX,l=s-e.top+window.scrollY;o({x:a,y:l},t)}const Wt=r=>{var y;const o=_.useContext(se);if(!o)throw new Error("ZoomableComponent must be used within a ViewProvider");const{transform:t,pan:e,scaleAt:n,pos:s}=o,a=(y=_.useContext(se))==null?void 0:y.scale,l=_.useRef(null),[u,h]=_.useState(!1),v=_.useRef({x:0,y:0}),{setWrapperRef:b,setSelectedShapeIds:S,selectedShapeIds:z}=be();_.useRef(null);const[w,D]=_.useState({startX:0,startY:0,x:0,y:0,width:0,height:0,active:!1});_.useEffect(()=>{const d=l.current;if(!d)return;const g=i=>{i.ctrlKey||(i.shiftKey?e({x:-i.deltaY,y:0}):e({x:-i.deltaX,y:-i.deltaY}),i.preventDefault())};return d.addEventListener("wheel",g,{passive:!1}),()=>{d.removeEventListener("wheel",g)}},[e]),_.useEffect(()=>{b(l)},[b]),_.useEffect(()=>{const d=g=>{var i;if(!(!g.ctrlKey&&!g.metaKey)&&(g.key==="-"||g.key==="=")){if(g.preventDefault(),!((i=l.current)==null?void 0:i.getBoundingClientRect()))return;const C=g.key==="="?1.05:1/1.05;Me(l,n,C),g.preventDefault()}};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]);const x=d=>{var g;if(r.panning)h(!0),v.current.x=d.clientX,v.current.y=d.clientY,d.preventDefault();else{if(!(d.target instanceof HTMLElement&&d.target.classList.contains("mouse-follow")||d.target instanceof HTMLElement&&d.target.classList.contains("bg-opacity-75")))return;const p=(g=l.current)==null?void 0:g.getBoundingClientRect();if(!p)return;const C=d.clientX-p.left,E=d.clientY-p.top;D({startX:C,startY:E,x:C,y:E,width:0,height:0,active:!0}),d.preventDefault()}},m=()=>{if(h(!1),D(d=>({...d,active:!1})),w.active){if(!l.current)return;setTimeout(()=>{const g=r.shapes.filter(i=>{if(i.type==="page")return;const p=i.xOffset,C=i.yOffset,{width:E,height:k}=i;return console.log((w.x-s.x+1e3)/a),console.log((w.y-s.y+1e3)/a),console.log(a),p+E>(w.x-s.x)/a+1e3&&p<(w.x+w.width-s.x)/a+1e3&&C+k>(w.y-s.y)/a+1e3&&C<(w.y+w.height-s.y)/a+1e3});S(g.map(i=>i.shapeId))},0)}},f=d=>{var g;if(u){const i=d.clientX-v.current.x,p=d.clientY-v.current.y;e({x:i,y:p}),v.current.x=d.clientX,v.current.y=d.clientY,d.preventDefault()}if(w.active){const i=(g=l.current)==null?void 0:g.getBoundingClientRect();if(!i)return;const p=d.clientX-i.left,C=d.clientY-i.top;D(E=>({...E,x:Math.min(E.startX,p),y:Math.min(E.startY,C),width:Math.abs(p-E.startX),height:Math.abs(C-E.startY)}))}},c=d=>{var g;if(d.ctrlKey||d.metaKey){const i=(g=l.current)==null?void 0:g.getBoundingClientRect();if(!i)return;const p=d.clientX-i.left,C=d.clientY-i.top,E=d.deltaY<0?1.02:1/1.02;n({x:p,y:C},E),d.preventDefault()}};return R.jsxs("div",{ref:l,onMouseDown:x,onMouseUp:m,onMouseLeave:m,onMouseMove:f,onWheel:c,className:`${u?"cursor-grab":"arkhet-cursor"} "touch-none w-fit h-fit"`,children:[R.jsx("div",{id:"zoomable-canvas",style:{transform:t},children:r.children}),w.active&&R.jsx("div",{className:"absolute border border-purple-200 bg-purple-500 opacity-10",style:{left:w.x,top:w.y,width:w.width,height:w.height,pointerEvents:"none"}})]})},Oe="-",At=r=>{const o=Lt(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:e}=r;return{getClassGroupId:a=>{const l=a.split(Oe);return l[0]===""&&l.length!==1&&l.shift(),ct(l,o)||jt(a)},getConflictingClassGroupIds:(a,l)=>{const u=t[a]||[];return l&&e[a]?[...u,...e[a]]:u}}},ct=(r,o)=>{var a;if(r.length===0)return o.classGroupId;const t=r[0],e=o.nextPart.get(t),n=e?ct(r.slice(1),e):void 0;if(n)return n;if(o.validators.length===0)return;const s=r.join(Oe);return(a=o.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},Be=/^\[(.+)\]$/,jt=r=>{if(Be.test(r)){const o=Be.exec(r)[1],t=o==null?void 0:o.substring(0,o.indexOf(":"));if(t)return"arbitrary.."+t}},Lt=r=>{const{theme:o,classGroups:t}=r,e={nextPart:new Map,validators:[]};for(const n in t)Pe(t[n],e,n,o);return e},Pe=(r,o,t,e)=>{r.forEach(n=>{if(typeof n=="string"){const s=n===""?o:Fe(o,n);s.classGroupId=t;return}if(typeof n=="function"){if(It(n)){Pe(n(e),o,t,e);return}o.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([s,a])=>{Pe(a,Fe(o,s),t,e)})})},Fe=(r,o)=>{let t=r;return o.split(Oe).forEach(e=>{t.nextPart.has(e)||t.nextPart.set(e,{nextPart:new Map,validators:[]}),t=t.nextPart.get(e)}),t},It=r=>r.isThemeGetter,Ht=r=>{if(r<1)return{get:()=>{},set:()=>{}};let o=0,t=new Map,e=new Map;const n=(s,a)=>{t.set(s,a),o++,o>r&&(o=0,e=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=e.get(s))!==void 0)return n(s,a),a},set(s,a){t.has(s)?t.set(s,a):n(s,a)}}},Ee="!",Ne=":",Bt=Ne.length,Ft=r=>{const{prefix:o,experimentalParseClassName:t}=r;let e=n=>{const s=[];let a=0,l=0,u=0,h;for(let w=0;w<n.length;w++){let D=n[w];if(a===0&&l===0){if(D===Ne){s.push(n.slice(u,w)),u=w+Bt;continue}if(D==="/"){h=w;continue}}D==="["?a++:D==="]"?a--:D==="("?l++:D===")"&&l--}const v=s.length===0?n:n.substring(u),b=Xt(v),S=b!==v,z=h&&h>u?h-u:void 0;return{modifiers:s,hasImportantModifier:S,baseClassName:b,maybePostfixModifierPosition:z}};if(o){const n=o+Ne,s=e;e=a=>a.startsWith(n)?s(a.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const n=e;e=s=>t({className:s,parseClassName:n})}return e},Xt=r=>r.endsWith(Ee)?r.substring(0,r.length-1):r.startsWith(Ee)?r.substring(1):r,Yt=r=>{const o=Object.fromEntries(r.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let s=[];return e.forEach(a=>{a[0]==="["||o[a]?(n.push(...s.sort(),a),s=[]):s.push(a)}),n.push(...s.sort()),n}},Ut=r=>({cache:Ht(r.cacheSize),parseClassName:Ft(r),sortModifiers:Yt(r),...At(r)}),Gt=/\s+/,Vt=(r,o)=>{const{parseClassName:t,getClassGroupId:e,getConflictingClassGroupIds:n,sortModifiers:s}=o,a=[],l=r.trim().split(Gt);let u="";for(let h=l.length-1;h>=0;h-=1){const v=l[h],{isExternal:b,modifiers:S,hasImportantModifier:z,baseClassName:w,maybePostfixModifierPosition:D}=t(v);if(b){u=v+(u.length>0?" "+u:u);continue}let x=!!D,m=e(x?w.substring(0,D):w);if(!m){if(!x){u=v+(u.length>0?" "+u:u);continue}if(m=e(w),!m){u=v+(u.length>0?" "+u:u);continue}x=!1}const f=s(S).join(":"),c=z?f+Ee:f,y=c+m;if(a.includes(y))continue;a.push(y);const d=n(m,x);for(let g=0;g<d.length;++g){const i=d[g];a.push(c+i)}u=v+(u.length>0?" "+u:u)}return u};function qt(){let r=0,o,t,e="";for(;r<arguments.length;)(o=arguments[r++])&&(t=dt(o))&&(e&&(e+=" "),e+=t);return e}const dt=r=>{if(typeof r=="string")return r;let o,t="";for(let e=0;e<r.length;e++)r[e]&&(o=dt(r[e]))&&(t&&(t+=" "),t+=o);return t};function $t(r,...o){let t,e,n,s=a;function a(u){const h=o.reduce((v,b)=>b(v),r());return t=Ut(h),e=t.cache.get,n=t.cache.set,s=l,l(u)}function l(u){const h=e(u);if(h)return h;const v=Vt(u,t);return n(u,v),v}return function(){return s(qt.apply(null,arguments))}}const F=r=>{const o=t=>t[r]||[];return o.isThemeGetter=!0,o},ut=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kt=/^\d+\/\d+$/,Zt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,er=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Q=r=>Kt.test(r),O=r=>!!r&&!Number.isNaN(Number(r)),Z=r=>!!r&&Number.isInteger(Number(r)),Xe=r=>r.endsWith("%")&&O(r.slice(0,-1)),q=r=>Zt.test(r),rr=()=>!0,or=r=>Jt.test(r)&&!Qt.test(r),ke=()=>!1,nr=r=>er.test(r),sr=r=>tr.test(r),ir=r=>!M(r)&&!P(r),ar=r=>te(r,gt,ke),M=r=>ut.test(r),J=r=>te(r,mt,or),xe=r=>te(r,vr,O),lr=r=>te(r,ht,ke),cr=r=>te(r,ft,sr),dr=r=>te(r,ke,nr),P=r=>pt.test(r),ce=r=>re(r,mt),ur=r=>re(r,yr),pr=r=>re(r,ht),hr=r=>re(r,gt),fr=r=>re(r,ft),gr=r=>re(r,wr,!0),te=(r,o,t)=>{const e=ut.exec(r);return e?e[1]?o(e[1]):t(e[2]):!1},re=(r,o,t=!1)=>{const e=pt.exec(r);return e?e[1]?o(e[1]):t:!1},ht=r=>r==="position",mr=new Set(["image","url"]),ft=r=>mr.has(r),br=new Set(["length","size","percentage"]),gt=r=>br.has(r),mt=r=>r==="length",vr=r=>r==="number",yr=r=>r==="family-name",wr=r=>r==="shadow",xr=()=>{const r=F("color"),o=F("font"),t=F("text"),e=F("font-weight"),n=F("tracking"),s=F("leading"),a=F("breakpoint"),l=F("container"),u=F("spacing"),h=F("radius"),v=F("shadow"),b=F("inset-shadow"),S=F("drop-shadow"),z=F("blur"),w=F("perspective"),D=F("aspect"),x=F("ease"),m=F("animate"),f=()=>["auto","avoid","all","avoid-page","page","left","right","column"],c=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],y=()=>["auto","hidden","clip","visible","scroll"],d=()=>["auto","contain","none"],g=()=>[P,M,u],i=()=>[Q,"full","auto",...g()],p=()=>[Z,"none","subgrid",P,M],C=()=>["auto",{span:["full",Z,P,M]},P,M],E=()=>[Z,"auto",P,M],k=()=>["auto","min","max","fr",P,M],N=()=>["start","end","center","between","around","evenly","stretch","baseline"],W=()=>["start","end","center","stretch"],j=()=>["auto",...g()],X=()=>[Q,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...g()],T=()=>[r,P,M],U=()=>[Xe,J],A=()=>["","none","full",h,P,M],I=()=>["",O,ce,J],Y=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>["","none",z,P,M],je=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",P,M],ie=()=>["none",O,P,M],ae=()=>["none",O,P,M],we=()=>[O,P,M],le=()=>[Q,"full",...g()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[q],breakpoint:[q],color:[rr],container:[q],"drop-shadow":[q],ease:["in","out","in-out"],font:[ir],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[q],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[q],shadow:[q],spacing:["px",O],text:[q],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Q,M,P,D]}],container:["container"],columns:[{columns:[O,M,P,l]}],"break-after":[{"break-after":f()}],"break-before":[{"break-before":f()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...c(),M,P]}],overflow:[{overflow:y()}],"overflow-x":[{"overflow-x":y()}],"overflow-y":[{"overflow-y":y()}],overscroll:[{overscroll:d()}],"overscroll-x":[{"overscroll-x":d()}],"overscroll-y":[{"overscroll-y":d()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:i()}],"inset-x":[{"inset-x":i()}],"inset-y":[{"inset-y":i()}],start:[{start:i()}],end:[{end:i()}],top:[{top:i()}],right:[{right:i()}],bottom:[{bottom:i()}],left:[{left:i()}],visibility:["visible","invisible","collapse"],z:[{z:[Z,"auto",P,M]}],basis:[{basis:[Q,"full","auto",l,...g()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[O,Q,"auto","initial","none",M]}],grow:[{grow:["",O,P,M]}],shrink:[{shrink:["",O,P,M]}],order:[{order:[Z,"first","last","none",P,M]}],"grid-cols":[{"grid-cols":p()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":p()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:g()}],"gap-x":[{"gap-x":g()}],"gap-y":[{"gap-y":g()}],"justify-content":[{justify:[...N(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...N()]}],"align-items":[{items:[...W(),"baseline"]}],"align-self":[{self:["auto",...W(),"baseline"]}],"place-content":[{"place-content":N()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:g()}],px:[{px:g()}],py:[{py:g()}],ps:[{ps:g()}],pe:[{pe:g()}],pt:[{pt:g()}],pr:[{pr:g()}],pb:[{pb:g()}],pl:[{pl:g()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":g()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":g()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[l,"screen",...X()]}],"min-w":[{"min-w":[l,"screen","none",...X()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...X()]}],h:[{h:["screen",...X()]}],"min-h":[{"min-h":["screen","none",...X()]}],"max-h":[{"max-h":["screen",...X()]}],"font-size":[{text:["base",t,ce,J]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[e,P,xe]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xe,M]}],"font-family":[{font:[ur,M,o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,P,M]}],"line-clamp":[{"line-clamp":[O,"none",P,xe]}],leading:[{leading:[s,...g()]}],"list-image":[{"list-image":["none",P,M]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",P,M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[O,"from-font","auto",P,J]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[O,"auto",P,M]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",P,M]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",P,M]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...c(),pr,lr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",hr,ar]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Z,P,M],radial:["",P,M],conic:[Z,P,M]},fr,cr]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:I()}],"border-w-x":[{"border-x":I()}],"border-w-y":[{"border-y":I()}],"border-w-s":[{"border-s":I()}],"border-w-e":[{"border-e":I()}],"border-w-t":[{"border-t":I()}],"border-w-r":[{"border-r":I()}],"border-w-b":[{"border-b":I()}],"border-w-l":[{"border-l":I()}],"divide-x":[{"divide-x":I()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":I()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[O,P,M]}],"outline-w":[{outline:["",O,ce,J]}],"outline-color":[{outline:[r]}],shadow:[{shadow:["","none",v,gr,dr]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",P,M,b]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[O,J]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":I()}],"inset-ring-color":[{"inset-ring":T()}],opacity:[{opacity:[O,P,M]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none",P,M]}],blur:[{blur:Ae()}],brightness:[{brightness:[O,P,M]}],contrast:[{contrast:[O,P,M]}],"drop-shadow":[{"drop-shadow":["","none",S,P,M]}],grayscale:[{grayscale:["",O,P,M]}],"hue-rotate":[{"hue-rotate":[O,P,M]}],invert:[{invert:["",O,P,M]}],saturate:[{saturate:[O,P,M]}],sepia:[{sepia:["",O,P,M]}],"backdrop-filter":[{"backdrop-filter":["","none",P,M]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[O,P,M]}],"backdrop-contrast":[{"backdrop-contrast":[O,P,M]}],"backdrop-grayscale":[{"backdrop-grayscale":["",O,P,M]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[O,P,M]}],"backdrop-invert":[{"backdrop-invert":["",O,P,M]}],"backdrop-opacity":[{"backdrop-opacity":[O,P,M]}],"backdrop-saturate":[{"backdrop-saturate":[O,P,M]}],"backdrop-sepia":[{"backdrop-sepia":["",O,P,M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":g()}],"border-spacing-x":[{"border-spacing-x":g()}],"border-spacing-y":[{"border-spacing-y":g()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",P,M]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[O,"initial",P,M]}],ease:[{ease:["linear","initial",x,P,M]}],delay:[{delay:[O,P,M]}],animate:[{animate:["none",m,P,M]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,P,M]}],"perspective-origin":[{"perspective-origin":je()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[P,M,"","none","gpu","cpu"]}],"transform-origin":[{origin:je()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",P,M]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",P,M]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[O,ce,J,xe]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Sr=$t(xr);function zr(){var u;const[r,o]=_.useState(!1),[t,e]=_.useState(0),n=_.useContext(se);if(!n)throw new Error("ZoomableComponent must be used within a ViewProvider");const{scaleAt:s}=n,{wrapperRef:a}=be(),l=(u=_.useContext(se))==null?void 0:u.scale;return _.useEffect(()=>{if(l!==t){o(!0);const h=setTimeout(()=>{o(!1),l&&e(l)},3e3);return()=>clearTimeout(h)}},[l,r,t]),l&&R.jsxs("div",{className:Sr("absolute bottom-10 right-72 z-[999] bg-[#404040] rounded drop-shadow-lg transition-opacity ease-out flex arkhet-cursor"),children:[R.jsx("div",{className:"px-3 py-1 border-r-2 border-r-[#5D5D5D] text-xl font-bold cursor-pointer",onClick:()=>Me(a||_.useRef(null),s,1/1.05),children:"-"}),R.jsxs("p",{className:"font-semibold px-3 pt-2 border-r-2 border-r-[#5D5D5D]",children:[(l*100).toFixed(0),"%"]}),R.jsx("div",{className:"px-3 py-1 text-xl font-bold cursor-pointer",onClick:()=>Me(a||_.useRef(null),s,1.05),children:"+"})]})}var oe={exports:{}},Se={},ze={exports:{}},Ce,Ye;function Cr(){if(Ye)return Ce;Ye=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ce=r,Ce}var Re,Ue;function Rr(){if(Ue)return Re;Ue=1;var r=Cr();function o(){}function t(){}return t.resetWarningCache=o,Re=function(){function e(a,l,u,h,v,b){if(b!==r){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}e.isRequired=e;function n(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:o};return s.PropTypes=s,s},Re}var Ge;function bt(){return Ge||(Ge=1,ze.exports=Rr()()),ze.exports}function vt(r){var o,t,e="";if(typeof r=="string"||typeof r=="number")e+=r;else if(typeof r=="object")if(Array.isArray(r))for(o=0;o<r.length;o++)r[o]&&(t=vt(r[o]))&&(e&&(e+=" "),e+=t);else for(o in r)r[o]&&(e&&(e+=" "),e+=o);return e}function Ve(){for(var r,o,t=0,e="";t<arguments.length;)(r=arguments[t++])&&(o=vt(r))&&(e&&(e+=" "),e+=o);return e}const Dr=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ve,default:Ve},Symbol.toStringTag,{value:"Module"})),Mr=zt(Dr);var L={},$={},qe;function ve(){if(qe)return $;qe=1,Object.defineProperty($,"__esModule",{value:!0}),$.dontSetMe=n,$.findInArray=r,$.int=e,$.isFunction=o,$.isNum=t;function r(s,a){for(let l=0,u=s.length;l<u;l++)if(a.apply(a,[s[l],l,s]))return s[l]}function o(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function t(s){return typeof s=="number"&&!isNaN(s)}function e(s){return parseInt(s,10)}function n(s,a,l){if(s[a])return new Error("Invalid prop ".concat(a," passed to ").concat(l," - do not set this, set it on the child."))}return $}var K={},$e;function Pr(){if($e)return K;$e=1,Object.defineProperty(K,"__esModule",{value:!0}),K.browserPrefixToKey=t,K.browserPrefixToStyle=e,K.default=void 0,K.getPrefix=o;const r=["Moz","Webkit","O","ms"];function o(){var s;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(s=window.document)===null||s===void 0||(s=s.documentElement)===null||s===void 0?void 0:s.style;if(!l||a in l)return"";for(let u=0;u<r.length;u++)if(t(a,r[u])in l)return r[u];return""}function t(s,a){return a?"".concat(a).concat(n(s)):s}function e(s,a){return a?"-".concat(a.toLowerCase(),"-").concat(s):s}function n(s){let a="",l=!0;for(let u=0;u<s.length;u++)l?(a+=s[u].toUpperCase(),l=!1):s[u]==="-"?l=!0:a+=s[u];return a}return K.default=o(),K}var Ke;function We(){if(Ke)return L;Ke=1,Object.defineProperty(L,"__esModule",{value:!0}),L.addClassName=d,L.addEvent=l,L.addUserSelectStyles=c,L.createCSSTransform=w,L.createSVGTransform=D,L.getTouch=m,L.getTouchIdentifier=f,L.getTranslation=x,L.innerHeight=b,L.innerWidth=S,L.matchesSelector=s,L.matchesSelectorAndParentsTo=a,L.offsetXYFromParent=z,L.outerHeight=h,L.outerWidth=v,L.removeClassName=g,L.removeEvent=u,L.removeUserSelectStyles=y;var r=ve(),o=e(Pr());function t(i){if(typeof WeakMap!="function")return null;var p=new WeakMap,C=new WeakMap;return(t=function(E){return E?C:p})(i)}function e(i,p){if(i&&i.__esModule)return i;if(i===null||typeof i!="object"&&typeof i!="function")return{default:i};var C=t(p);if(C&&C.has(i))return C.get(i);var E={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in i)if(N!=="default"&&Object.prototype.hasOwnProperty.call(i,N)){var W=k?Object.getOwnPropertyDescriptor(i,N):null;W&&(W.get||W.set)?Object.defineProperty(E,N,W):E[N]=i[N]}return E.default=i,C&&C.set(i,E),E}let n="";function s(i,p){return n||(n=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(C){return(0,r.isFunction)(i[C])})),(0,r.isFunction)(i[n])?i[n](p):!1}function a(i,p,C){let E=i;do{if(s(E,p))return!0;if(E===C)return!1;E=E.parentNode}while(E);return!1}function l(i,p,C,E){if(!i)return;const k={capture:!0,...E};i.addEventListener?i.addEventListener(p,C,k):i.attachEvent?i.attachEvent("on"+p,C):i["on"+p]=C}function u(i,p,C,E){if(!i)return;const k={capture:!0,...E};i.removeEventListener?i.removeEventListener(p,C,k):i.detachEvent?i.detachEvent("on"+p,C):i["on"+p]=null}function h(i){let p=i.clientHeight;const C=i.ownerDocument.defaultView.getComputedStyle(i);return p+=(0,r.int)(C.borderTopWidth),p+=(0,r.int)(C.borderBottomWidth),p}function v(i){let p=i.clientWidth;const C=i.ownerDocument.defaultView.getComputedStyle(i);return p+=(0,r.int)(C.borderLeftWidth),p+=(0,r.int)(C.borderRightWidth),p}function b(i){let p=i.clientHeight;const C=i.ownerDocument.defaultView.getComputedStyle(i);return p-=(0,r.int)(C.paddingTop),p-=(0,r.int)(C.paddingBottom),p}function S(i){let p=i.clientWidth;const C=i.ownerDocument.defaultView.getComputedStyle(i);return p-=(0,r.int)(C.paddingLeft),p-=(0,r.int)(C.paddingRight),p}function z(i,p,C){const k=p===p.ownerDocument.body?{left:0,top:0}:p.getBoundingClientRect(),N=(i.clientX+p.scrollLeft-k.left)/C,W=(i.clientY+p.scrollTop-k.top)/C;return{x:N,y:W}}function w(i,p){const C=x(i,p,"px");return{[(0,o.browserPrefixToKey)("transform",o.default)]:C}}function D(i,p){return x(i,p,"")}function x(i,p,C){let{x:E,y:k}=i,N="translate(".concat(E).concat(C,",").concat(k).concat(C,")");if(p){const W="".concat(typeof p.x=="string"?p.x:p.x+C),j="".concat(typeof p.y=="string"?p.y:p.y+C);N="translate(".concat(W,", ").concat(j,")")+N}return N}function m(i,p){return i.targetTouches&&(0,r.findInArray)(i.targetTouches,C=>p===C.identifier)||i.changedTouches&&(0,r.findInArray)(i.changedTouches,C=>p===C.identifier)}function f(i){if(i.targetTouches&&i.targetTouches[0])return i.targetTouches[0].identifier;if(i.changedTouches&&i.changedTouches[0])return i.changedTouches[0].identifier}function c(i){if(!i)return;let p=i.getElementById("react-draggable-style-el");p||(p=i.createElement("style"),p.type="text/css",p.id="react-draggable-style-el",p.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,p.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(p)),i.body&&d(i.body,"react-draggable-transparent-selection")}function y(i){if(i)try{if(i.body&&g(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{const p=(i.defaultView||window).getSelection();p&&p.type!=="Caret"&&p.removeAllRanges()}}catch{}}function d(i,p){i.classList?i.classList.add(p):i.className.match(new RegExp("(?:^|\\s)".concat(p,"(?!\\S)")))||(i.className+=" ".concat(p))}function g(i,p){i.classList?i.classList.remove(p):i.className=i.className.replace(new RegExp("(?:^|\\s)".concat(p,"(?!\\S)"),"g"),"")}return L}var G={},Ze;function yt(){if(Ze)return G;Ze=1,Object.defineProperty(G,"__esModule",{value:!0}),G.canDragX=n,G.canDragY=s,G.createCoreData=l,G.createDraggableData=u,G.getBoundPosition=t,G.getControlPosition=a,G.snapToGrid=e;var r=ve(),o=We();function t(b,S,z){if(!b.props.bounds)return[S,z];let{bounds:w}=b.props;w=typeof w=="string"?w:h(w);const D=v(b);if(typeof w=="string"){const{ownerDocument:x}=D,m=x.defaultView;let f;if(w==="parent"?f=D.parentNode:f=x.querySelector(w),!(f instanceof m.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const c=f,y=m.getComputedStyle(D),d=m.getComputedStyle(c);w={left:-D.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(y.marginLeft),top:-D.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(y.marginTop),right:(0,o.innerWidth)(c)-(0,o.outerWidth)(D)-D.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(y.marginRight),bottom:(0,o.innerHeight)(c)-(0,o.outerHeight)(D)-D.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(y.marginBottom)}}return(0,r.isNum)(w.right)&&(S=Math.min(S,w.right)),(0,r.isNum)(w.bottom)&&(z=Math.min(z,w.bottom)),(0,r.isNum)(w.left)&&(S=Math.max(S,w.left)),(0,r.isNum)(w.top)&&(z=Math.max(z,w.top)),[S,z]}function e(b,S,z){const w=Math.round(S/b[0])*b[0],D=Math.round(z/b[1])*b[1];return[w,D]}function n(b){return b.props.axis==="both"||b.props.axis==="x"}function s(b){return b.props.axis==="both"||b.props.axis==="y"}function a(b,S,z){const w=typeof S=="number"?(0,o.getTouch)(b,S):null;if(typeof S=="number"&&!w)return null;const D=v(z),x=z.props.offsetParent||D.offsetParent||D.ownerDocument.body;return(0,o.offsetXYFromParent)(w||b,x,z.props.scale)}function l(b,S,z){const w=!(0,r.isNum)(b.lastX),D=v(b);return w?{node:D,deltaX:0,deltaY:0,lastX:S,lastY:z,x:S,y:z}:{node:D,deltaX:S-b.lastX,deltaY:z-b.lastY,lastX:b.lastX,lastY:b.lastY,x:S,y:z}}function u(b,S){const z=b.props.scale;return{node:S.node,x:b.state.x+S.deltaX/z,y:b.state.y+S.deltaY/z,deltaX:S.deltaX/z,deltaY:S.deltaY/z,lastX:b.state.x,lastY:b.state.y}}function h(b){return{left:b.left,top:b.top,right:b.right,bottom:b.bottom}}function v(b){const S=b.findDOMNode();if(!S)throw new Error("<DraggableCore>: Unmounted during event!");return S}return G}var ne={},de={},Je;function wt(){if(Je)return de;Je=1,Object.defineProperty(de,"__esModule",{value:!0}),de.default=r;function r(){}return de}var Qe;function Er(){if(Qe)return ne;Qe=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=void 0;var r=h(at()),o=l(bt()),t=l(_e()),e=We(),n=yt(),s=ve(),a=l(wt());function l(x){return x&&x.__esModule?x:{default:x}}function u(x){if(typeof WeakMap!="function")return null;var m=new WeakMap,f=new WeakMap;return(u=function(c){return c?f:m})(x)}function h(x,m){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var f=u(m);if(f&&f.has(x))return f.get(x);var c={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in x)if(d!=="default"&&Object.prototype.hasOwnProperty.call(x,d)){var g=y?Object.getOwnPropertyDescriptor(x,d):null;g&&(g.get||g.set)?Object.defineProperty(c,d,g):c[d]=x[d]}return c.default=x,f&&f.set(x,c),c}function v(x,m,f){return m=b(m),m in x?Object.defineProperty(x,m,{value:f,enumerable:!0,configurable:!0,writable:!0}):x[m]=f,x}function b(x){var m=S(x,"string");return typeof m=="symbol"?m:String(m)}function S(x,m){if(typeof x!="object"||x===null)return x;var f=x[Symbol.toPrimitive];if(f!==void 0){var c=f.call(x,m);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(x)}const z={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let w=z.mouse,D=class extends r.Component{constructor(){super(...arguments),v(this,"dragging",!1),v(this,"lastX",NaN),v(this,"lastY",NaN),v(this,"touchIdentifier",null),v(this,"mounted",!1),v(this,"handleDragStart",m=>{if(this.props.onMouseDown(m),!this.props.allowAnyClick&&typeof m.button=="number"&&m.button!==0)return!1;const f=this.findDOMNode();if(!f||!f.ownerDocument||!f.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:c}=f;if(this.props.disabled||!(m.target instanceof c.defaultView.Node)||this.props.handle&&!(0,e.matchesSelectorAndParentsTo)(m.target,this.props.handle,f)||this.props.cancel&&(0,e.matchesSelectorAndParentsTo)(m.target,this.props.cancel,f))return;m.type==="touchstart"&&m.preventDefault();const y=(0,e.getTouchIdentifier)(m);this.touchIdentifier=y;const d=(0,n.getControlPosition)(m,y,this);if(d==null)return;const{x:g,y:i}=d,p=(0,n.createCoreData)(this,g,i);(0,a.default)("DraggableCore: handleDragStart: %j",p),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(m,p)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,e.addUserSelectStyles)(c),this.dragging=!0,this.lastX=g,this.lastY=i,(0,e.addEvent)(c,w.move,this.handleDrag),(0,e.addEvent)(c,w.stop,this.handleDragStop))}),v(this,"handleDrag",m=>{const f=(0,n.getControlPosition)(m,this.touchIdentifier,this);if(f==null)return;let{x:c,y}=f;if(Array.isArray(this.props.grid)){let i=c-this.lastX,p=y-this.lastY;if([i,p]=(0,n.snapToGrid)(this.props.grid,i,p),!i&&!p)return;c=this.lastX+i,y=this.lastY+p}const d=(0,n.createCoreData)(this,c,y);if((0,a.default)("DraggableCore: handleDrag: %j",d),this.props.onDrag(m,d)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(p)}return}this.lastX=c,this.lastY=y}),v(this,"handleDragStop",m=>{if(!this.dragging)return;const f=(0,n.getControlPosition)(m,this.touchIdentifier,this);if(f==null)return;let{x:c,y}=f;if(Array.isArray(this.props.grid)){let p=c-this.lastX||0,C=y-this.lastY||0;[p,C]=(0,n.snapToGrid)(this.props.grid,p,C),c=this.lastX+p,y=this.lastY+C}const d=(0,n.createCoreData)(this,c,y);if(this.props.onStop(m,d)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,e.removeUserSelectStyles)(i.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",d),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,a.default)("DraggableCore: Removing handlers"),(0,e.removeEvent)(i.ownerDocument,w.move,this.handleDrag),(0,e.removeEvent)(i.ownerDocument,w.stop,this.handleDragStop))}),v(this,"onMouseDown",m=>(w=z.mouse,this.handleDragStart(m))),v(this,"onMouseUp",m=>(w=z.mouse,this.handleDragStop(m))),v(this,"onTouchStart",m=>(w=z.touch,this.handleDragStart(m))),v(this,"onTouchEnd",m=>(w=z.touch,this.handleDragStop(m)))}componentDidMount(){this.mounted=!0;const m=this.findDOMNode();m&&(0,e.addEvent)(m,z.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const m=this.findDOMNode();if(m){const{ownerDocument:f}=m;(0,e.removeEvent)(f,z.mouse.move,this.handleDrag),(0,e.removeEvent)(f,z.touch.move,this.handleDrag),(0,e.removeEvent)(f,z.mouse.stop,this.handleDragStop),(0,e.removeEvent)(f,z.touch.stop,this.handleDragStop),(0,e.removeEvent)(m,z.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,e.removeUserSelectStyles)(f)}}findDOMNode(){var m,f;return(m=this.props)!==null&&m!==void 0&&m.nodeRef?(f=this.props)===null||f===void 0||(f=f.nodeRef)===null||f===void 0?void 0:f.current:t.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return ne.default=D,v(D,"displayName","DraggableCore"),v(D,"propTypes",{allowAnyClick:o.default.bool,children:o.default.node.isRequired,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(x,m){if(x[m]&&x[m].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),v(D,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),ne}var et;function Nr(){return et||(et=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),r.default=void 0;var o=S(at()),t=v(bt()),e=v(_e()),n=v(Mr),s=We(),a=yt(),l=ve(),u=v(Er()),h=v(wt());function v(f){return f&&f.__esModule?f:{default:f}}function b(f){if(typeof WeakMap!="function")return null;var c=new WeakMap,y=new WeakMap;return(b=function(d){return d?y:c})(f)}function S(f,c){if(f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var y=b(c);if(y&&y.has(f))return y.get(f);var d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in f)if(i!=="default"&&Object.prototype.hasOwnProperty.call(f,i)){var p=g?Object.getOwnPropertyDescriptor(f,i):null;p&&(p.get||p.set)?Object.defineProperty(d,i,p):d[i]=f[i]}return d.default=f,y&&y.set(f,d),d}function z(){return z=Object.assign?Object.assign.bind():function(f){for(var c=1;c<arguments.length;c++){var y=arguments[c];for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(f[d]=y[d])}return f},z.apply(this,arguments)}function w(f,c,y){return c=D(c),c in f?Object.defineProperty(f,c,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[c]=y,f}function D(f){var c=x(f,"string");return typeof c=="symbol"?c:String(c)}function x(f,c){if(typeof f!="object"||f===null)return f;var y=f[Symbol.toPrimitive];if(y!==void 0){var d=y.call(f,c);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(f)}class m extends o.Component{static getDerivedStateFromProps(c,y){let{position:d}=c,{prevPropsPosition:g}=y;return d&&(!g||d.x!==g.x||d.y!==g.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:d,prevPropsPosition:g}),{x:d.x,y:d.y,prevPropsPosition:{...d}}):null}constructor(c){super(c),w(this,"onDragStart",(y,d)=>{if((0,h.default)("Draggable: onDragStart: %j",d),this.props.onStart(y,(0,a.createDraggableData)(this,d))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(y,d)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",d);const g=(0,a.createDraggableData)(this,d),i={x:g.x,y:g.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:E}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;const[k,N]=(0,a.getBoundPosition)(this,i.x,i.y);i.x=k,i.y=N,i.slackX=this.state.slackX+(C-i.x),i.slackY=this.state.slackY+(E-i.y),g.x=i.x,g.y=i.y,g.deltaX=i.x-this.state.x,g.deltaY=i.y-this.state.y}if(this.props.onDrag(y,g)===!1)return!1;this.setState(i)}),w(this,"onDragStop",(y,d)=>{if(!this.state.dragging||this.props.onStop(y,(0,a.createDraggableData)(this,d))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",d);const i={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:E}=this.props.position;i.x=C,i.y=E}this.setState(i)}),this.state={dragging:!1,dragged:!1,x:c.position?c.position.x:c.defaultPosition.x,y:c.position?c.position.y:c.defaultPosition.y,prevPropsPosition:{...c.position},slackX:0,slackY:0,isElementSVG:!1},c.position&&!(c.onDrag||c.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var c,y;return(c=(y=this.props)===null||y===void 0||(y=y.nodeRef)===null||y===void 0?void 0:y.current)!==null&&c!==void 0?c:e.default.findDOMNode(this)}render(){const{axis:c,bounds:y,children:d,defaultPosition:g,defaultClassName:i,defaultClassNameDragging:p,defaultClassNameDragged:C,position:E,positionOffset:k,scale:N,...W}=this.props;let j={},X=null;const U=!!!E||this.state.dragging,A=E||g,I={x:(0,a.canDragX)(this)&&U?this.state.x:A.x,y:(0,a.canDragY)(this)&&U?this.state.y:A.y};this.state.isElementSVG?X=(0,s.createSVGTransform)(I,k):j=(0,s.createCSSTransform)(I,k);const Y=(0,n.default)(d.props.className||"",i,{[p]:this.state.dragging,[C]:this.state.dragged});return o.createElement(u.default,z({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(d),{className:Y,style:{...d.props.style,...j},transform:X}))}}r.default=m,w(m,"displayName","Draggable"),w(m,"propTypes",{...u.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),w(m,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Se)),Se}var tt;function Tr(){if(tt)return oe.exports;tt=1;const{default:r,DraggableCore:o}=Nr();return oe.exports=r,oe.exports.default=r,oe.exports.DraggableCore=o,oe.exports}var _r=Tr();const Or=Ct(_r);var H=function(){return H=Object.assign||function(r){for(var o,t=1,e=arguments.length;t<e;t++){o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}return r},H.apply(this,arguments)},rt={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},ot={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ue={width:"20px",height:"20px",position:"absolute",zIndex:1},kr={top:H(H({},rt),{top:"-5px"}),right:H(H({},ot),{left:void 0,right:"-5px"}),bottom:H(H({},rt),{top:void 0,bottom:"-5px"}),left:H(H({},ot),{left:"-5px"}),topRight:H(H({},ue),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:H(H({},ue),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:H(H({},ue),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:H(H({},ue),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Wr=_.memo(function(r){var o=r.onResizeStart,t=r.direction,e=r.children,n=r.replaceStyles,s=r.className,a=_.useCallback(function(h){o(h,t)},[o,t]),l=_.useCallback(function(h){o(h,t)},[o,t]),u=_.useMemo(function(){return H(H({position:"absolute",userSelect:"none"},kr[t]),n??{})},[n,t]);return R.jsx("div",{className:s||void 0,style:u,onMouseDown:a,onTouchStart:l,children:e})}),Ar=function(){var r=function(o,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])},r(o,t)};return function(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),V=function(){return V=Object.assign||function(r){for(var o,t=1,e=arguments.length;t<e;t++){o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}return r},V.apply(this,arguments)},jr={width:"auto",height:"auto"},pe=function(r,o,t){return Math.max(Math.min(r,t),o)},nt=function(r,o,t){var e=Math.round(r/o);return e*o+t*(e-1)},ee=function(r,o){return new RegExp(r,"i").test(o)},he=function(r){return!!(r.touches&&r.touches.length)},Lr=function(r){return!!((r.clientX||r.clientX===0)&&(r.clientY||r.clientY===0))},st=function(r,o,t){t===void 0&&(t=0);var e=o.reduce(function(s,a,l){return Math.abs(a-r)<Math.abs(o[s]-r)?l:s},0),n=Math.abs(o[e]-r);return t===0||n<t?o[e]:r},De=function(r){return r=r.toString(),r==="auto"||r.endsWith("px")||r.endsWith("%")||r.endsWith("vh")||r.endsWith("vw")||r.endsWith("vmax")||r.endsWith("vmin")?r:"".concat(r,"px")},fe=function(r,o,t,e){if(r&&typeof r=="string"){if(r.endsWith("px"))return Number(r.replace("px",""));if(r.endsWith("%")){var n=Number(r.replace("%",""))/100;return o*n}if(r.endsWith("vw")){var n=Number(r.replace("vw",""))/100;return t*n}if(r.endsWith("vh")){var n=Number(r.replace("vh",""))/100;return e*n}}return r},Ir=function(r,o,t,e,n,s,a){return e=fe(e,r.width,o,t),n=fe(n,r.height,o,t),s=fe(s,r.width,o,t),a=fe(a,r.height,o,t),{maxWidth:typeof e>"u"?void 0:Number(e),maxHeight:typeof n>"u"?void 0:Number(n),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof a>"u"?void 0:Number(a)}},Hr=function(r){return Array.isArray(r)?r:[r,r]},Br=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],it="__resizable_base__",Fr=function(r){Ar(o,r);function o(t){var e,n,s,a,l=r.call(this,t)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var u=l.parentNode;if(!u)return null;var h=l.window.document.createElement("div");return h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.transform="scale(0, 0)",h.style.left="0",h.style.flex="0 0 100%",h.classList?h.classList.add(it):h.className+=it,u.appendChild(h),h},l.removeBase=function(u){var h=l.parentNode;h&&h.removeChild(u)},l.state={isResizing:!1,width:(n=(e=l.propsSize)===null||e===void 0?void 0:e.width)!==null&&n!==void 0?n:"auto",height:(a=(s=l.propsSize)===null||s===void 0?void 0:s.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(o.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||jr},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){var t=0,e=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,s=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:n,e=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=a}return{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"sizeStyle",{get:function(){var t=this,e=this.props.size,n=function(l){var u;if(typeof t.state[l]>"u"||t.state[l]==="auto")return"auto";if(t.propsSize&&t.propsSize[l]&&(!((u=t.propsSize[l])===null||u===void 0)&&u.toString().endsWith("%"))){if(t.state[l].toString().endsWith("%"))return t.state[l].toString();var h=t.getParentSize(),v=Number(t.state[l].toString().replace("px","")),b=v/h[l]*100;return"".concat(b,"%")}return De(t.state[l])},s=e&&typeof e.width<"u"&&!this.state.isResizing?De(e.width):n("width"),a=e&&typeof e.height<"u"&&!this.state.isResizing?De(e.height):n("height");return{width:s,height:a}},enumerable:!1,configurable:!0}),o.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var e=!1,n=this.parentNode.style.flexWrap;n!=="wrap"&&(e=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var s={width:t.offsetWidth,height:t.offsetHeight};return e&&(this.parentNode.style.flexWrap=n),this.removeBase(t),s},o.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},o.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},o.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},o.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},o.prototype.createSizeForCssProperty=function(t,e){var n=this.propsSize&&this.propsSize[e];return this.state[e]==="auto"&&this.state.original[e]===t&&(typeof n>"u"||n==="auto")?"auto":t},o.prototype.calculateNewMaxFromBoundary=function(t,e){var n=this.props.boundsByDirection,s=this.state.direction,a=n&&ee("left",s),l=n&&ee("top",s),u,h;if(this.props.bounds==="parent"){var v=this.parentNode;v&&(u=a?this.resizableRight-this.parentLeft:v.offsetWidth+(this.parentLeft-this.resizableLeft),h=l?this.resizableBottom-this.parentTop:v.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(u=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(u=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return u&&Number.isFinite(u)&&(t=t&&t<u?t:u),h&&Number.isFinite(h)&&(e=e&&e<h?e:h),{maxWidth:t,maxHeight:e}},o.prototype.calculateNewSizeFromDirection=function(t,e){var n=this.props.scale||1,s=Hr(this.props.resizeRatio||1),a=s[0],l=s[1],u=this.state,h=u.direction,v=u.original,b=this.props,S=b.lockAspectRatio,z=b.lockAspectRatioExtraHeight,w=b.lockAspectRatioExtraWidth,D=v.width,x=v.height,m=z||0,f=w||0;return ee("right",h)&&(D=v.width+(t-v.x)*a/n,S&&(x=(D-f)/this.ratio+m)),ee("left",h)&&(D=v.width-(t-v.x)*a/n,S&&(x=(D-f)/this.ratio+m)),ee("bottom",h)&&(x=v.height+(e-v.y)*l/n,S&&(D=(x-m)*this.ratio+f)),ee("top",h)&&(x=v.height-(e-v.y)*l/n,S&&(D=(x-m)*this.ratio+f)),{newWidth:D,newHeight:x}},o.prototype.calculateNewSizeFromAspectRatio=function(t,e,n,s){var a=this.props,l=a.lockAspectRatio,u=a.lockAspectRatioExtraHeight,h=a.lockAspectRatioExtraWidth,v=typeof s.width>"u"?10:s.width,b=typeof n.width>"u"||n.width<0?t:n.width,S=typeof s.height>"u"?10:s.height,z=typeof n.height>"u"||n.height<0?e:n.height,w=u||0,D=h||0;if(l){var x=(S-w)*this.ratio+D,m=(z-w)*this.ratio+D,f=(v-D)/this.ratio+w,c=(b-D)/this.ratio+w,y=Math.max(v,x),d=Math.min(b,m),g=Math.max(S,f),i=Math.min(z,c);t=pe(t,y,d),e=pe(e,g,i)}else t=pe(t,v,b),e=pe(e,S,z);return{newWidth:t,newHeight:e}},o.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var e=this.parentNode;if(e){var n=e.getBoundingClientRect();this.parentLeft=n.left*t,this.parentTop=n.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*t,this.targetTop=s.top*t}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,u=a.top,h=a.right,v=a.bottom;this.resizableLeft=l*t,this.resizableRight=h*t,this.resizableTop=u*t,this.resizableBottom=v*t}},o.prototype.onResizeStart=function(t,e){if(!(!this.resizable||!this.window)){var n=0,s=0;if(t.nativeEvent&&Lr(t.nativeEvent)?(n=t.nativeEvent.clientX,s=t.nativeEvent.clientY):t.nativeEvent&&he(t.nativeEvent)&&(n=t.nativeEvent.touches[0].clientX,s=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(t,e,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,u=this.window.getComputedStyle(this.resizable);if(u.flexBasis!=="auto"){var h=this.parentNode;if(h){var v=this.window.getComputedStyle(h).flexDirection;this.flexDir=v.startsWith("row")?"row":"column",l=u.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var b={original:{x:n,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:V(V({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:e,flexBasis:l};this.setState(b)}},o.prototype.onMouseMove=function(t){var e=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&he(t))try{t.preventDefault(),t.stopPropagation()}catch{}var n=this.props,s=n.maxWidth,a=n.maxHeight,l=n.minWidth,u=n.minHeight,h=he(t)?t.touches[0].clientX:t.clientX,v=he(t)?t.touches[0].clientY:t.clientY,b=this.state,S=b.direction,z=b.original,w=b.width,D=b.height,x=this.getParentSize(),m=Ir(x,this.window.innerWidth,this.window.innerHeight,s,a,l,u);s=m.maxWidth,a=m.maxHeight,l=m.minWidth,u=m.minHeight;var f=this.calculateNewSizeFromDirection(h,v),c=f.newHeight,y=f.newWidth,d=this.calculateNewMaxFromBoundary(s,a);this.props.snap&&this.props.snap.x&&(y=st(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(c=st(c,this.props.snap.y,this.props.snapGap));var g=this.calculateNewSizeFromAspectRatio(y,c,{width:d.maxWidth,height:d.maxHeight},{width:l,height:u});if(y=g.newWidth,c=g.newHeight,this.props.grid){var i=nt(y,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),p=nt(c,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),C=this.props.snapGap||0,E=C===0||Math.abs(i-y)<=C?i:y,k=C===0||Math.abs(p-c)<=C?p:c;y=E,c=k}var N={width:y-z.width,height:c-z.height};if(this.delta=N,w&&typeof w=="string"){if(w.endsWith("%")){var W=y/x.width*100;y="".concat(W,"%")}else if(w.endsWith("vw")){var j=y/this.window.innerWidth*100;y="".concat(j,"vw")}else if(w.endsWith("vh")){var X=y/this.window.innerHeight*100;y="".concat(X,"vh")}}if(D&&typeof D=="string"){if(D.endsWith("%")){var W=c/x.height*100;c="".concat(W,"%")}else if(D.endsWith("vw")){var j=c/this.window.innerWidth*100;c="".concat(j,"vw")}else if(D.endsWith("vh")){var X=c/this.window.innerHeight*100;c="".concat(X,"vh")}}var T={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(c,"height")};this.flexDir==="row"?T.flexBasis=T.width:this.flexDir==="column"&&(T.flexBasis=T.height);var U=this.state.width!==T.width,A=this.state.height!==T.height,I=this.state.flexBasis!==T.flexBasis,Y=U||A||I;Y&&lt.flushSync(function(){e.setState(T)}),this.props.onResize&&Y&&this.props.onResize(t,S,this.resizable,N)}},o.prototype.onMouseUp=function(t){var e,n,s=this.state,a=s.isResizing,l=s.direction;s.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,l,this.resizable,this.delta),this.props.size&&this.setState({width:(e=this.props.size.width)!==null&&e!==void 0?e:"auto",height:(n=this.props.size.height)!==null&&n!==void 0?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:V(V({},this.state.backgroundStyle),{cursor:"auto"})}))},o.prototype.updateSize=function(t){var e,n;this.setState({width:(e=t.width)!==null&&e!==void 0?e:"auto",height:(n=t.height)!==null&&n!==void 0?n:"auto"})},o.prototype.renderResizer=function(){var t=this,e=this.props,n=e.enable,s=e.handleStyles,a=e.handleClasses,l=e.handleWrapperStyle,u=e.handleWrapperClass,h=e.handleComponent;if(!n)return null;var v=Object.keys(n).map(function(b){return n[b]!==!1?R.jsx(Wr,{direction:b,onResizeStart:t.onResizeStart,replaceStyles:s&&s[b],className:a&&a[b],children:h&&h[b]?h[b]:null},b):null});return R.jsx("div",{className:u,style:l,children:v})},o.prototype.render=function(){var t=this,e=Object.keys(this.props).reduce(function(a,l){return Br.indexOf(l)!==-1||(a[l]=t.props[l]),a},{}),n=V(V(V({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return R.jsxs(s,V({style:n,className:this.props.className},e,{ref:function(a){a&&(t.resizable=a)},children:[this.state.isResizing&&R.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},o.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},o}(_.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Te=function(r,o){return Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Te(r,o)};function Xr(r,o){Te(r,o);function t(){this.constructor=r}r.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}var B=function(){return B=Object.assign||function(o){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s])}return o},B.apply(this,arguments)};function Yr(r,o){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&o.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(r);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(r,e[n])&&(t[e[n]]=r[e[n]]);return t}var Ur={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Gr=function(r){return{bottom:r,bottomLeft:r,bottomRight:r,left:r,right:r,top:r,topLeft:r,topRight:r}},Vr=function(r){Xr(o,r);function o(t){var e=r.call(this,t)||this;return e.resizingPosition={x:0,y:0},e.offsetFromParent={left:0,top:0},e.resizableElement={current:null},e.originalPosition={x:0,y:0},e.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},e.onResizeStart=e.onResizeStart.bind(e),e.onResize=e.onResize.bind(e),e.onResizeStop=e.onResizeStop.bind(e),e.onDragStart=e.onDragStart.bind(e),e.onDrag=e.onDrag.bind(e),e.onDragStop=e.onDragStop.bind(e),e.getMaxSizesFromProps=e.getMaxSizesFromProps.bind(e),e}return o.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,e=t.left,n=t.top,s=this.getDraggablePosition(),a=s.x,l=s.y;this.draggable.setState({x:a-e,y:l-n}),this.forceUpdate()},o.prototype.getDraggablePosition=function(){var t=this.draggable.state,e=t.x,n=t.y;return{x:e,y:n}},o.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},o.prototype.getParentSize=function(){return this.resizable.getParentSize()},o.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,e=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:e}},o.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},o.prototype.getOffsetHeight=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/e;case"body":return document.body.offsetHeight/e;default:return t.offsetHeight}},o.prototype.getOffsetWidth=function(t){var e=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/e;case"body":return document.body.offsetWidth/e;default:return t.offsetWidth}},o.prototype.onDragStart=function(t,e){this.props.onDragStart&&this.props.onDragStart(t,e);var n=this.getDraggablePosition();if(this.originalPosition=n,!!this.props.bounds){var s=this.getParent(),a=this.props.scale,l;if(this.props.bounds==="parent")l=s;else if(this.props.bounds==="body"){var u=s.getBoundingClientRect(),h=u.left,v=u.top,b=document.body.getBoundingClientRect(),S=-(h-s.offsetLeft*a-b.left)/a,z=-(v-s.offsetTop*a-b.top)/a,w=(document.body.offsetWidth-this.resizable.size.width*a)/a+S,D=(document.body.offsetHeight-this.resizable.size.height*a)/a+z;return this.setState({bounds:{top:z,right:w,bottom:D,left:S}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var x=s.getBoundingClientRect(),m=x.left,f=x.top,c=-(m-s.offsetLeft*a)/a,y=-(f-s.offsetTop*a)/a,w=(window.innerWidth-this.resizable.size.width*a)/a+c,D=(window.innerHeight-this.resizable.size.height*a)/a+y;return this.setState({bounds:{top:y,right:w,bottom:D,left:c}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(s instanceof HTMLElement))){var d=l.getBoundingClientRect(),g=d.left,i=d.top,p=s.getBoundingClientRect(),C=p.left,E=p.top,k=(g-C)/a,N=i-E;if(this.resizable){this.updateOffsetFromParent();var W=this.offsetFromParent;this.setState({bounds:{top:N-W.top,right:k+(l.offsetWidth-this.resizable.size.width)-W.left/a,bottom:N+(l.offsetHeight-this.resizable.size.height)-W.top,left:k-W.left/a}})}}}},o.prototype.onDrag=function(t,e){if(this.props.onDrag){var n=this.offsetFromParent,s=n.left,a=n.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,B(B({},e),{x:e.x+s,y:e.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(t,B(B({},e),{x:e.x+s,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,B(B({},e),{x:this.originalPosition.x+s,y:e.y+a,deltaX:0}))}},o.prototype.onDragStop=function(t,e){if(this.props.onDragStop){var n=this.offsetFromParent,s=n.left,a=n.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,B(B({},e),{x:e.x+s,y:e.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,B(B({},e),{x:e.x+s,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,B(B({},e),{x:this.originalPosition.x+s,y:e.y+a,deltaX:0}))}},o.prototype.onResizeStart=function(t,e,n){t.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,a=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+a.left,y:l.y+a.top},this.originalPosition=l,this.props.bounds){var u=this.getParent(),h=void 0;this.props.bounds==="parent"?h=u:this.props.bounds==="body"?h=document.body:this.props.bounds==="window"?h=window:typeof this.props.bounds=="string"?h=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(h=this.props.bounds);var v=this.getSelfElement();if(v instanceof Element&&(h instanceof HTMLElement||h===window)&&u instanceof HTMLElement){var b=this.getMaxSizesFromProps(),S=b.maxWidth,z=b.maxHeight,w=this.getParentSize();if(S&&typeof S=="string")if(S.endsWith("%")){var D=Number(S.replace("%",""))/100;S=w.width*D}else S.endsWith("px")&&(S=Number(S.replace("px","")));if(z&&typeof z=="string")if(z.endsWith("%")){var D=Number(z.replace("%",""))/100;z=w.height*D}else z.endsWith("px")&&(z=Number(z.replace("px","")));var x=v.getBoundingClientRect(),m=x.left,f=x.top,c=this.props.bounds==="window"?{left:0,top:0}:h.getBoundingClientRect(),y=c.left,d=c.top,g=this.getOffsetWidth(h),i=this.getOffsetHeight(h),p=e.toLowerCase().endsWith("left"),C=e.toLowerCase().endsWith("right"),E=e.startsWith("top"),k=e.startsWith("bottom");if((p||E)&&this.resizable){var N=(m-y)/s+this.resizable.size.width;this.setState({maxWidth:N>Number(S)?S:N})}if(C||this.props.lockAspectRatio&&!p&&!E){var N=g+(y-m)/s;this.setState({maxWidth:N>Number(S)?S:N})}if((E||p)&&this.resizable){var N=(f-d)/s+this.resizable.size.height;this.setState({maxHeight:N>Number(z)?z:N})}if(k||this.props.lockAspectRatio&&!E&&!p){var N=i+(d-f)/s;this.setState({maxHeight:N>Number(z)?z:N})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,e,n)},o.prototype.onResize=function(t,e,n,s){var a=this,l={x:this.originalPosition.x,y:this.originalPosition.y},u=-s.width,h=-s.height,v=["top","left","topLeft","bottomLeft","topRight"];v.includes(e)&&(e==="bottomLeft"?l.x+=u:(e==="topRight"||(l.x+=u),l.y+=h));var b=this.draggable.state;(l.x!==b.x||l.y!==b.y)&&lt.flushSync(function(){a.draggable.setState(l)}),this.updateOffsetFromParent();var S=this.offsetFromParent,z=this.getDraggablePosition().x+S.left,w=this.getDraggablePosition().y+S.top;this.resizingPosition={x:z,y:w},this.props.onResize&&this.props.onResize(t,e,n,s,{x:z,y:w})},o.prototype.onResizeStop=function(t,e,n,s){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),l=a.maxWidth,u=a.maxHeight;this.setState({maxWidth:l,maxHeight:u}),this.props.onResizeStop&&this.props.onResizeStop(t,e,n,s,this.resizingPosition)},o.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},o.prototype.updatePosition=function(t){this.draggable.setState(t)},o.prototype.updateOffsetFromParent=function(){var t=this.props.scale,e=this.getParent(),n=this.getSelfElement();if(!e||n===null)return{top:0,left:0};var s=e.getBoundingClientRect(),a=s.left,l=s.top,u=n.getBoundingClientRect(),h=this.getDraggablePosition(),v=e.scrollLeft,b=e.scrollTop;this.offsetFromParent={left:u.left-a+v-h.x*t,top:u.top-l+b-h.y*t}},o.prototype.render=function(){var t=this,e=this.props,n=e.disableDragging,s=e.style,a=e.dragHandleClassName,l=e.position,u=e.onMouseDown,h=e.onMouseUp,v=e.dragAxis,b=e.dragGrid,S=e.bounds,z=e.enableUserSelectHack,w=e.cancel,D=e.children;e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop;var x=e.resizeHandleStyles,m=e.resizeHandleClasses,f=e.resizeHandleComponent,c=e.enableResizing,y=e.resizeGrid,d=e.resizeHandleWrapperClass,g=e.resizeHandleWrapperStyle,i=e.scale,p=e.allowAnyClick,C=e.dragPositionOffset,E=Yr(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),k=this.props.default?B({},this.props.default):void 0;delete E.default;var N=n||a?{cursor:"auto"}:{cursor:"move"},W=B(B(B({},Ur),N),s),j=this.offsetFromParent,X=j.left,T=j.top,U;l&&(U={x:l.x-X,y:l.y-T});var A=this.state.resizing?void 0:U,I=this.state.resizing?"both":v;return _.createElement(Or,{ref:function(Y){Y&&(t.draggable=Y)},handle:a?".".concat(a):void 0,defaultPosition:k,onMouseDown:u,onMouseUp:h,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:I,disabled:n,grid:b,bounds:S?this.state.bounds:void 0,position:A,enableUserSelectHack:z,cancel:w,scale:i,allowAnyClick:p,nodeRef:this.resizableElement,positionOffset:C},_.createElement(Fr,B({},E,{ref:function(Y){Y&&(t.resizable=Y,t.resizableElement.current=Y.resizable)},defaultSize:k,size:this.props.size,enable:typeof c=="boolean"?Gr(c):c,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:W,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:d,handleWrapperStyle:g,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:x,handleClasses:m,handleComponent:f,scale:this.props.scale}),D))},o.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},o}(_.PureComponent);function xt(r){const{shapes:o,shape:t,setShapes:e,isHandToolActive:n}=r,[s,a]=_.useState({x:0,y:0}),{selectedShapeId:l,setSelectedShapeId:u,selectedShapeIds:h}=be(),[v,b]=_.useState(!0),[S,z]=_.useState(new Map),w=x=>{h.includes(x)&&z(new Map(r.shapes.filter(m=>h.includes(m.shapeId)).map(m=>[m.shapeId,{x:m.xOffset,y:m.yOffset}])))},D=(x,m)=>{if(h.includes(x)&&S.size>0){const f=m.x-S.get(x).x,c=m.y-S.get(x).y;e(y=>y.map(d=>h.includes(d.shapeId)?{...d,xOffset:S.get(d.shapeId).x+f,yOffset:S.get(d.shapeId).y+c}:d))}};return R.jsx(Vr,{size:{width:t.width,height:t.height},position:{x:t.xOffset,y:t.yOffset},disableDragging:!v||n,onDragStart:()=>{w(t.shapeId)},onDrag:(x,m)=>D(t.shapeId,m),onDragStop:(x,m)=>{const f=m.x,c=m.y;Mt(o,t.shapeId,f,c),e(y=>y.map(d=>d.shapeId===t.shapeId?{...d,xOffset:f,yOffset:c}:d))},style:{border:l===t.shapeId&&t.type!=="page"||h.includes(t.shapeId)?"2px solid #70acdc":"2px solid transparent"},onMouseDown:x=>{x.detail!==2&&u(t.shapeId),console.log(l)},onMouseUp:x=>{t.shapeId!==l&&u(t.shapeId)},children:t.type==="page"?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:`pb-5 absolute w-full -top-8 left-2 ${l==t.shapeId?"text-sky-200":""} `,children:"New Page"}),R.jsx("div",{className:`h-full w-full bg-[#262626] bg-opacity-75 rounded-2xl shadow-[0px_0px_4px_2px_rgba(66,165,245,0.25)]  ${l==t.shapeId?"page-focus border border-[#70acdc]":""} ${h.includes(t.shapeId)?"page-focus border border-[#70acdc]":""}`,onMouseEnter:()=>b(!1),onMouseLeave:()=>b(!0)},t.shapeId)]}):t.type==="button"?R.jsx("div",{className:"relative w-full h-full flex items-center flex-col text-center rounded justify-center [container-type:size] bg-white text-black ",children:R.jsx("span",{className:`text-[50cqh] text-center w-[90%] overflow-hidden text-ellipsis whitespace-nowrap select-none $
              }`,children:"Submit"})}):R.jsx("div",{className:"h-full w-full border bg-[#FFFFFF] rounded-2xl"},t.shapeId)},`${t.shapeId}-${v}`)}function qr(r){const{shapes:o,isHandToolActive:t,handleMouseDown:e,handleMouseMove:n,handleCanvasClick:s,setShapes:a}=r;return R.jsx("div",{className:`mouse-follow w-[5000px] h-[5000px] absolute bg-[#2c2c2c] border rounded -top-[1000px] -left-[1000px] z-0 ${t?"cursor-grab":"arkhet-cursor"}`,onMouseDown:e,onMouseMove:l=>{n(l)},onMouseUp:s,children:o.map(l=>R.jsx(xt,{shapes:o,setShapes:a,shape:l,isHandToolActive:t},l.shapeId))})}function me(r){return{leftBound:r.xOffset,rightBound:r.xOffset+r.width,topBound:r.yOffset,bottomBound:r.yOffset+r.height}}function St(r,o){return r.topBound<o.topBound&&r.bottomBound>o.bottomBound&&r.leftBound<o.leftBound&&r.rightBound>o.rightBound}function Jr(r,o){return St(me(o),me(r))}function $r(r){const o=r.filter(s=>s.type==="page"),t=r.filter(s=>s.type!=="page");return[...o.map(s=>{const a={...s};a.children=[];const l=me(s);return t.filter(h=>{const v=me(h);return St(l,v)}).forEach(h=>{const v=t.findIndex(S=>S.shapeId===h.shapeId);t.splice(v,1);const b={...h};b.xOffset-=s.xOffset,b.yOffset-=s.yOffset,a.children.push(b)}),a}),...t]}const Qr=function(){const{setSelectedShapeId:o}=be(),[t,e]=_.useState(!1),[n,s]=_.useState([]),[a,l]=_.useState(null),[u,h]=_.useState({x:-1e3,y:-1e3}),v=_.useRef([]),b=_.useRef([]),S=_.useRef(null),z=_.useContext(se);function w(){e(!t)}function D(c){(t||c.button===1)&&l({x:c.clientX,y:c.clientY})}function x(c){if(t&&a){const y=c.clientX-a.x,d=c.clientY-a.y;h(g=>({x:g.x+y/2,y:g.y+d/2})),l({x:c.clientX,y:c.clientY})}}function m(){l(null)}function f(c){const y=c.target instanceof HTMLElement&&c.target.classList.contains("multipage-handle"),d=!(c.target instanceof HTMLElement&&c.target.classList.contains("mouse-follow"));y||d||o(null)}return _.useEffect(()=>{function c(i){i.preventDefault()}function y(i){i.target,i.key==="h"&&w(),i.key==="v"&&e(!1),i.key===" "&&(i.preventDefault(),e(!0)),i.key==="p"&&!i.ctrlKey&&(ge(n,"page",600,300),s([...n])),i.key==="b"&&!i.ctrlKey&&(ge(n,"button",100,50),s([...n]))}function d(i){i.key===" "&&e(!1)}function g(i){i.button===1&&(i.preventDefault(),e(!0))}return window.addEventListener("keydown",y),window.addEventListener("keyup",d),window.addEventListener("wheel",c,{passive:!1}),window.addEventListener("mousedown",g),()=>{window.removeEventListener("keydown",y),window.removeEventListener("keyup",d),window.removeEventListener("wheel",c),window.removeEventListener("mousedown",g)}},[z]),R.jsxs("div",{className:`bg-[#2c2c2c] text-white h-screen w-screen overflow-hidden ${t?"cursor-grab":"arkhet-cursor"}`,onMouseMove:x,onMouseUp:m,children:[R.jsx(zr,{}),R.jsx(Wt,{panning:t,shapes:n,children:R.jsx(qr,{shapes:n,setShapes:s,isHandToolActive:t,handleMouseDown:D,handleMouseMove:x,handleCanvasClick:f})}),R.jsx("div",{className:"z-[-10] absolute overflow-hidden",children:n&&$r(n).map(c=>R.jsx(xt,{mousePos:{x:0,y:0},shape:c,pageRefList:v,canvasRef:S,allShapesRefList:b,isHandToolActive:t,handleMouseUp:()=>null,shapes:n,setShapes:s},c.id))}),R.jsx(Pt,{shapes:n,setShapes:s}),R.jsx(Et,{isHandToolActive:t,setIsHandToolActive:e,toggleHandTool:w,shapes:n,setShapes:s}),R.jsx(Nt,{})]})};export{Qr as component,me as getBoundsForShape,St as isInBoundsOfOuterShape,Jr as isShapeInPage};
